<!DOCTYPE html>
<html lang="cs" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KalkulaÄka pro kalibraci extruderu</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/styles.css">
</head>
<body>
    <div class="theme-switch-wrapper">
        <span>ğŸŒ</span>
        <label class="theme-switch">
            <input type="checkbox" id="theme-toggle">
            <span class="slider"></span>
        </label>
        <span>ğŸŒ™</span>
    </div>

    <div class="container">
        <h1>KalkulaÄka pro kalibraci extruderu</h1>
        
        <div class="info-card">
            <p>Tato kalkulaÄka vÃ¡m pomÅ¯Å¾e sprÃ¡vnÄ› nastavit kroky extrudÃ©ru (rotation_distance) pro Klipper firmware. VÃ­ce informacÃ­ najdete v <a href="https://www.klipper3d.org/Rotation_Distance.html" target="_blank">oficiÃ¡lnÃ­ Klipper dokumentaci</a>.</p>
            
            <h4>Jak kalibrovat extruder:</h4>
            <ol>
                <li>ZjistÄ›te aktuÃ¡lnÃ­ hodnotu <code>rotation_distance</code> z vaÅ¡eho firmware (v souboru printer.cfg v sekci extruder)</li>
                <li>OznaÄte si filament 120mm od vstupu do extrudÃ©ru</li>
                <li>Extrudujte pÅ™esnÄ› 100mm filamentu (nÃ­zkou rychlostÃ­)</li>
                <li>ZmÄ›Å™te zbÃ½vajÃ­cÃ­ vzdÃ¡lenost ke znaÄce</li>
                <li>Zadejte namÄ›Å™enÃ© hodnoty do kalkulaÄky</li>
                <li>PouÅ¾ijte vypoÄÃ­tanou hodnotu jako novou hodnotu <code>rotation_distance</code> a zapiÅ¡te do souboru printer.cfg</li>
            </ol>
            
            <p>Vzorec pro vÃ½poÄet: <code>NovÃ© kroky extruderu = (SouÄasnÃ© kroky Ã— PoÅ¾adovanÃ¡ dÃ©lka) Ã· SkuteÄnÃ¡ dÃ©lka</code></p>
        </div>

        <div class="calculator">
            <div class="form-group">
                <label>AktuÃ¡lnÃ­ hodnota <code>rotation_distance</code>:</label>
                <input type="number" class="form-control" id="currentEsteps" step="0.01">
                <small class="form-text">Zadejte aktuÃ¡lnÃ­ hodnotu <code>rotation_distance</code> z vaÅ¡eho firmware</small>
            </div>

            <div class="form-group">
                <label>PoÅ¾adovanÃ¡ dÃ©lka extruze (mm):</label>
                <input type="number" class="form-control" id="requestedLength" step="1" value="100">
                <small class="form-text">StandardnÄ› 100mm</small>
            </div>

            <div class="form-group">
                <label>SkuteÄnÃ¡ dÃ©lka extruze (mm):</label>
                <input type="number" class="form-control" id="actualLength" step="0.01">
                <small class="form-text">ZmÄ›Å™te skuteÄnou dÃ©lku vytlaÄenÃ©ho filamentu</small>
            </div>

            <button class="btn btn-primary" onclick="calculate()">VypoÄÃ­tat novou hodnotu rotation_distance</button>
            <div class="error-message" id="error-message" style="display: none;">
                <p class="text-danger">âš ï¸ ProsÃ­m vyplÅˆte vÅ¡echna pole pro sprÃ¡vnÃ½ vÃ½poÄet</p>
            </div>
            <div class="result" id="result" style="display: none;">
                <h3>VÃ½sledek</h3>
                <p>NovÃ¡ hodnota rotation_distance: <strong><span id="newEsteps"></span></strong></p>
            </div>
        </div>
    </div>

    <script src="assets/js/script.js"></script>
</body>
</html>